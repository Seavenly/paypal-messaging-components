<!DOCTYPE html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
    <script>
        const script = window.top.document.querySelector('script');

        const interfaceScript = document.createElement('script');
        Array.from(script.attributes).forEach(attr => {
            interfaceScript.setAttribute(attr.name, attr.value);
        });

        const modalScript = document.createElement('script');
        modalScript.src = '//localhost.paypal.com:8080/smart-credit-modal.js';

        const initScript = document.createElement('script');
        // window.props is injected by utils/devServerProxy.js
        initScript.textContent = `crc.setupModal(${window.props})`;

        interfaceScript.onload = () => document.body.appendChild(modalScript);
        modalScript.onload = () => document.body.appendChild(initScript);

        document.body.appendChild(interfaceScript);
    </script>
</body>
